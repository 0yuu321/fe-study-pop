export interface Question {
    id: number;
    text: string;
    options: string[];
    correctIndex: number;
    explanation: string;
    source?: string;
}

export const questions: Question[] = [
    // H31 Spring Exam (Real Questions fetched)
    {
        id: 101,
        text: "10進数の演算式 7÷32 の結果を2進数で表したものはどれか。",
        options: ["0.001011", "0.001101", "0.00111", "0.0111"],
        correctIndex: 2,
        explanation: "7を2進数にすると111です。32は2の5乗なので、7÷32は111を右に5ビットシフトすることに相当します。したがって 0.00111 となります。",
        source: "H31春 問1"
    },
    {
        id: 102,
        text: "8ビットのデータの下位4ビットを抽出し、上位4ビットを0にするためのビット演算はどれか。",
        options: ["16進数0FとのANDをとる", "16進数0FとのORをとる", "16進数F0とのANDをとる", "16進数FFとのXORをとる"],
        correctIndex: 0,
        explanation: "特定の部分を取り出すには、取り出したい部分を1、それ以外を0としたビット列（マスク）とのAND演算を行います。下位4ビットを取り出すには 00001111 (0F) とのANDをとります。",
        source: "H31春 問2"
    },

    // テクノロジ系 (Authentic Reconstructions)
    {
        id: 3,
        text: "CPUのクロック周波数が1GHzで、命令実行に必要な平均クロック数が0.5のとき、このCPUの性能は約何MIPSか。",
        options: ["500", "1000", "2000", "4000"],
        correctIndex: 2,
        explanation: "1クロックで実行できる命令数は 1 / 0.5 = 2命令。1GHz（10億クロック/秒）なので、20億命令/秒 = 2000MIPS です。"
    },
    {
        id: 4,
        text: "DRAMとSRAMの特徴の比較として、適切なものはどれか。",
        options: ["DRAMはSRAMより高速である", "DRAMはリフレッシュ動作が必要である", "SRAMは主記憶装置として主に使用される", "SRAMは集積度を高めるのに適している"],
        correctIndex: 1,
        explanation: "DRAMはコンデンサに電荷を蓄えるため、定期的なリフレッシュ（再書き込み）が必要です。SRAMはリフレッシュ不要で高速ですが、高価で大容量化が難しいです。"
    },
    {
        id: 5,
        text: "3層クライアントサーバシステムにおいて、アプリケーション層が担当する主な機能はどれか。",
        options: ["データの入出力表示", "ビジネスロジックの実行", "データベースへのアクセス", "ネットワーク通信の制御"],
        correctIndex: 1,
        explanation: "3層アーキテクチャでは、プレゼンテーション層が表示、データ層がDB操作、ファンクション層（アプリケーション層）が業務処理（ビジネスロジック）を担当します。"
    },
    {
        id: 6,
        text: "RAID 5におけるデータの記録方法はどれか。",
        options: ["データをビット単位で複数のディスクに分散し、エラー訂正用ディスクを1台用意する", "データをブロック単位で複数のディスクに分散し、パリティも分散して記録する", "同じデータを2台のディスクに同時に書き込む", "データを複数のディスクに分散して書き込むだけで、冗長性は持たせない"],
        correctIndex: 1,
        explanation: "RAID 5は、データと誤り訂正符号（パリティ）を複数のディスクに分散して記録する方式です。"
    },
    {
        id: 7,
        text: "IPアドレス 192.168.1.0/24 のネットワークにおいて、有効なホストアドレスの範囲はどれか。",
        options: ["192.168.1.0 ～ 192.168.1.255", "192.168.1.1 ～ 192.168.1.254", "192.168.1.1 ～ 192.168.1.255", "192.168.1.0 ～ 192.168.1.254"],
        correctIndex: 1,
        explanation: "ホスト部の全ビットが0のアドレス（ネットワークアドレス）と、全ビットが1のアドレス（ブロードキャストアドレス）はホストに割り当てられません。"
    },
    {
        id: 8,
        text: "公開鍵暗号方式における電子署名の役割として、適切なものはどれか。",
        options: ["通信経路上の盗聴を防止する", "文書の作成者が本人であることと、改ざんされていないことを証明する", "文書を暗号化して機密性を高める", "ウイルスの感染を検知する"],
        correctIndex: 1,
        explanation: "電子署名は、送信者の秘密鍵でハッシュ値を暗号化することで、「送信者の真正性」と「データの完全性（改ざん検知）」を保証します。"
    },
    {
        id: 9,
        text: "SQLインジェクション攻撃を防ぐための対策として、最も適切なものはどれか。",
        options: ["入力値に含まれるHTMLタグを無害化（サニタイジング）する", "プレースホルダを利用してSQL文を組み立てる", "WebサーバのOSを最新のパッチで更新する", "ファイアウォールで特定のポートを遮断する"],
        correctIndex: 1,
        explanation: "SQLインジェクション対策の基本は、プレースホルダ（バインド機構）を使用して、入力値をリテラルとして扱うことです。"
    },

    // マネジメント系 (Management)
    {
        id: 10,
        text: "プロジェクトマネジメントの知識体系であるPMBOKにおいて、プロジェクトの完了時に行う活動はどれか。",
        options: ["WBSの作成", "リスクの特定", "成果物の移管と教訓の文書化", "ステークホルダーの特定"],
        correctIndex: 2,
        explanation: "プロジェクトの終結プロセス群では、成果物の受け渡し（移管）や、プロジェクトで得られた知見（教訓）の文書化を行います。"
    },
    {
        id: 11,
        text: "ファンクションポイント法の主な特徴はどれか。",
        options: ["プログラムのステップ数（行数）で見積もる", "機能の数や複雑さに着目してシステム規模を見積もる", "過去の類似プロジェクトの実績値から類推する", "WBSの最下層のタスクを積み上げて見積もる"],
        correctIndex: 1,
        explanation: "ファンクションポイント法は、外部入出力や内部ファイルなどの「機能」の数と難易度に基づいて、開発規模を見積もる手法です。"
    },
    {
        id: 12,
        text: "ITサービスの品質向上のためのサイクルとして知られる「PDCA」の「A」は何を指すか。",
        options: ["Action（改善）", "Assess（評価）", "Analyze（分析）", "Audit（監査）"],
        correctIndex: 0,
        explanation: "PDCAサイクルは、Plan（計画）、Do（実行）、Check（評価）、Action（改善/処置）の頭文字をとったものです。"
    },
    {
        id: 13,
        text: "システム監査人の独立性が確保されている状態とは、どのような状態か。",
        options: ["監査対象部門の業務に精通している", "監査対象部門の責任者から指揮命令を受けない", "監査対象システムの開発経験がある", "情報処理技術者の資格を保有している"],
        correctIndex: 1,
        explanation: "監査の独立性とは、監査対象から客観的かつ公平な立場にあることであり、監査対象部門からの指揮命令や干渉を受けないことが求められます。"
    },

    // ストラテジ系 (Strategy)
    {
        id: 14,
        text: "SWOT分析において、「外部環境」の分析項目に該当する組み合わせはどれか。",
        options: ["強み (Strengths) と 弱み (Weaknesses)", "機会 (Opportunities) と 脅威 (Threats)", "強み (Strengths) と 機会 (Opportunities)", "弱み (Weaknesses) と 脅威 (Threats)"],
        correctIndex: 1,
        explanation: "SWOT分析では、内部環境をS（強み）・W（弱み）、外部環境をO（機会）・T（脅威）に分類します。"
    },
    {
        id: 15,
        text: "バランススコアカード（BSC）の4つの視点に含まれないものはどれか。",
        options: ["財務の視点", "顧客の視点", "業務プロセスの視点", "競合他社の視点"],
        correctIndex: 3,
        explanation: "BSCの4つの視点は、「財務」「顧客」「業務プロセス」「学習と成長」です。「競合他社の視点」は含まれません。"
    },
    {
        id: 16,
        text: "著作権法において、保護の対象となるものはどれか。",
        options: ["プログラム言語", "アルゴリズム", "規約（プロトコル）", "プログラムのソースコード"],
        correctIndex: 3,
        explanation: "著作権法では、具体的な表現物である「ソースコード」は保護されますが、アイデアや手法である言語・アルゴリズム・規約は保護対象外です。"
    },
    {
        id: 17,
        text: "コアコンピタンス経営の説明として、適切なものはどれか。",
        options: ["企業の多角化を推進し、リスクを分散する経営手法", "他社が真似できない核となる能力（強み）に集中する経営手法", "顧客満足度を最大化することを最優先する経営手法", "業務プロセスを抜本的に再設計する経営手法"],
        correctIndex: 1,
        explanation: "コアコンピタンスとは、顧客に利益をもたらし、競合相手が真似できない、その企業独自の核となる能力のことです。"
    },
    {
        id: 18,
        text: "ロングテール戦略の説明として、適切なものはどれか。",
        options: ["売れ筋の主力商品にリソースを集中して売り上げを伸ばす", "販売機会の少ない多品種の商品を幅広く揃え、総体として大きな売上を上げる", "新商品を短期間で次々と投入し、市場シェアを獲得する", "特定の顧客層にターゲットを絞り、高価格帯の商品を販売する"],
        correctIndex: 1,
        explanation: "ロングテールとは、ネット販売などで、あまり売れない商品を数多く取り扱うことで、全体の売上の大きな割合を確保する現象・戦略のことです。"
    },

    // アルゴリズム・プログラミング (Algorithm basics)
    {
        id: 19,
        text: "整列アルゴリズムにおいて、隣り合う要素の大小を比較し、順序が逆であれば交換する操作を繰り返す手法はどれか。",
        options: ["クイックソート", "バブルソート (基本交換法)", "マージソート", "選択ソート"],
        correctIndex: 1,
        explanation: "バブルソートは、隣接する要素を比較・交換しながら、最大（または最小）の要素を端に移動させていく手法です。"
    },
    {
        id: 20,
        text: "TCP/IPプロトコルスイートにおいて、ポート番号によってアプリケーションを識別する層はどれか。",
        options: ["ネットワークインタフェース層", "インターネット層", "トランスポート層", "アプリケーション層"],
        correctIndex: 2,
        explanation: "トランスポート層のプロトコル（TCP/UDP）ヘッダに含まれるポート番号によって、どのアプリケーション（サービス）宛の通信かを識別します。"
    }
];

export function getRandomQuestion(): Question {
    const randomIndex = Math.floor(Math.random() * questions.length);
    return questions[randomIndex];
}
